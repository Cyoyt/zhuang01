<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>甘肃省2013年投资及增长情况</title>
    <link href="../css/main.css" rel="stylesheet" />
    <link href="../css/style.css" rel="stylesheet" />
    <script src="../js/echarts.min.js"></script>
  </head>

  <body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 100%; height: 880px"></div>
    <script type="text/javascript">
      var myChart = echarts.init(document.getElementById("main")); // 初始化echarts
var data = [
  30, 34, 41, 45, 50, 55, 63, 73, 90, 101, 112, 130, 156, 194, 275,
  381, 426, 455, 484, 508, 527, 563, 592, 618, 643, 688, 717, 779,
  838, 1064,
]; // 初始数据
var option = {
  // echarts的配置选项
  backgroundColor: "#fff",
  grid: {
    left: "3%",
    right: "4%",
    bottom: "3%",
    top: "2%",
    containLabel: true,
  },
  tooltip: {
    trigger: "axis",
  },
  legend: {
    data: ["数据"],
    show: false,
    x: "right",
    y: "top",
  },
  calculable: true,
  xAxis: [
    {
      name: "次数",
      type: "value",
      boundaryGap: [0, 0.01],
    },
  ],
  yAxis: [
    {
      type: "category",
      data: [
        "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13",
        "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24",
        "25", "26", "27", "28", "29", "30",
      ],
    },
  ],
  color: ["#1693ed"],
  series: [{
    name: "数据",
    type: "bar",
    data: data, // 使用初始数据
    itemStyle: {
      normal: {
        label: {
          show: true,
          position: "insideRight",
          textStyle: { color: "#000" },
        },
      },
    },
  },],
};
window.onresize = myChart.resize;
myChart.setOption(option);

// 定义一个函数用于生成随机数据
function getRandomData() {
  var data = [];
  for (var i = 0; i < 30; i++) {
    data.push(Math.floor(Math.random() * 1000)); // 生成0-1000的随机数
  }
  return data;
}

setInterval(function () {
  var newData = getRandomData(); // 生成新的随机数据
  myChart.setOption({
    series: [{
      data: newData,
    }],
  });
}, 2000); // 每2秒更新一次数据并动起来
    </script>
  </body>
</html>
